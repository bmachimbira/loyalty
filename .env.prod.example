# Zimbabwe Loyalty Platform - Production Environment Configuration
# Copy this file to .env.prod and fill in the actual values
# NEVER commit .env.prod to version control!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_NAME=loyalty
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# Generate with: openssl rand -base64 32

# =============================================================================
# API CONFIGURATION
# =============================================================================

# JWT Secret - Used for signing authentication tokens
# CRITICAL: Use a strong random secret, at least 32 characters
JWT_SECRET=CHANGE_ME_STRONG_JWT_SECRET_HERE
# Generate with: openssl rand -base64 48

# HMAC Keys - Used for webhook signature verification
# Format: JSON object with key IDs and base64-encoded secrets
# Example: {"key1":"base64secret1","key2":"base64secret2"}
HMAC_KEYS_JSON={"primary":"CHANGE_ME_BASE64_SECRET"}
# Generate with: echo -n "random-secret" | base64

# Application Port
PORT=8080

# Gin Mode (release for production)
GIN_MODE=release

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
# Options: debug, info, warn, error
LOG_FORMAT=json
# Options: json, text

# =============================================================================
# WHATSAPP INTEGRATION
# =============================================================================

# WhatsApp Verify Token - Set this in Meta App Dashboard webhook config
WHATSAPP_VERIFY_TOKEN=CHANGE_ME_UNIQUE_VERIFY_TOKEN
# Can be any string, but keep it secret

# WhatsApp App Secret - From Meta App Dashboard
WHATSAPP_APP_SECRET=CHANGE_ME_FROM_META_DASHBOARD

# WhatsApp Access Token - From Meta App Dashboard
WHATSAPP_ACCESS_TOKEN=CHANGE_ME_FROM_META_DASHBOARD

# WhatsApp Phone Number ID - From Meta Business Account
WHATSAPP_PHONE_ID=CHANGE_ME_FROM_META_BUSINESS_ACCOUNT

# WhatsApp API Version
WHATSAPP_API_VERSION=v18.0

# =============================================================================
# USSD INTEGRATION (Optional)
# =============================================================================
# USSD_PROVIDER_URL=https://ussd.provider.com/api
# USSD_API_KEY=your_ussd_api_key

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Version/Tag for Docker images
VERSION=latest

# Domain name for production (used in Caddyfile.prod)
DOMAIN=yourdomain.com

# Admin email for Let's Encrypt SSL certificates
ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Airtime Provider API
# AIRTIME_PROVIDER_URL=https://airtime.provider.com/api
# AIRTIME_API_KEY=your_airtime_api_key
# AIRTIME_SECRET_KEY=your_airtime_secret

# Email Service (for notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=notifications@yourdomain.com
# SMTP_PASSWORD=your_smtp_password
# SMTP_FROM=noreply@yourdomain.com

# SMS Gateway (for OTP)
# SMS_PROVIDER_URL=https://sms.provider.com/api
# SMS_API_KEY=your_sms_api_key

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# S3-compatible storage for backups (optional)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_BUCKET=loyalty-platform-backups
# S3_ACCESS_KEY=your_access_key
# S3_SECRET_KEY=your_secret_key
# S3_REGION=us-east-1

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# Backup notification email
BACKUP_NOTIFICATION_EMAIL=ops@yourdomain.com

# =============================================================================
# MONITORING & ALERTING (Optional)
# =============================================================================

# Prometheus (if using)
# PROMETHEUS_ENABLED=true
# PROMETHEUS_PORT=9090

# Grafana (if using)
# GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# Sentry (for error tracking)
# SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate strong, random secrets for all _SECRET and _PASSWORD fields
# 2. Never use default or example values in production
# 3. Use different secrets for each environment (dev, staging, prod)
# 4. Rotate secrets regularly (every 90 days recommended)
# 5. Store secrets securely (use secret management tools in production)
# 6. Never commit this file with real values to version control
# 7. Limit access to this file (chmod 600 .env.prod)
# 8. Use environment-specific secrets management (AWS Secrets Manager, Vault, etc.)

# =============================================================================
# SECRET GENERATION COMMANDS
# =============================================================================
# Generate random password:        openssl rand -base64 32
# Generate JWT secret:             openssl rand -base64 48
# Generate HMAC key:               openssl rand -base64 32 | base64
# Generate UUID:                   uuidgen
# Generate API key:                openssl rand -hex 32
